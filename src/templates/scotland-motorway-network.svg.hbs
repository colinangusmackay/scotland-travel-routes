<svg version="1.1"
     baseProfile="full"
     width="8000" height="8000"
     xmlns="http://www.w3.org/2000/svg">
  <style>
    @font-face {
        font-family: "Fira Sans Condensed";
        src: url("https://fonts.googleapis.com/css?family=Fira+Sans+Condensed&amp;display=swap");
    }
  </style>
    <!-- Background -->
    <rect width="100%" height="100%" fill="white" stroke="#dddddd"/>
    {{#setData "routes"}}
{
  "M8":{
    "colour":"red", "contrastColour":"white",
    "name":"M8", "route":"Edinburgh City Bypass - Greenock",
    "dx":10, "dy":100,
    "junctions": {
      "J1": {
        "number": "J1", "name": "Edinburgh City Bypass",
        "type": "terminator", "angle": "ew",
        "x":7900, "y": 4000
      },
      "J2": {
        "number": "J2", "name": "Ratho",
        "type": "connector", "angle": "ew",
        "x":7700, "y": 4000
      },
      "J3": {
        "number": "J3", "name": "Livingston",
        "type": "standard", "angle": "ew",
        "x":7500, "y": 4000
      },
      "J3A": {
        "number": "J3A", "name": "Bathgate",
        "type": "standard", "angle": "ew",
        "x":7300, "y": 4000
      },
      "J4": {
        "number": "J4", "name": "Whitburn",
        "type": "standard", "angle": "ew",
        "x":7100, "y": 4000
      },
      "J4A": {
        "number": "J4A", "name": "Heartlands",
        "type": "standard", "angle": "ew",
        "x":6900, "y": 4000
      },
      "S_4A_5": {
        "number": "Services", "name": "Heart of Scotland Services",
        "type": "services", "angle": "ew",
        "x":6700, "y": 4000
      }
    }
  },
  "M9":{
    "colour":"purple", "contrastColour": "white",
    "name":"M9", "route":"Newbridge - Dunblane",
    "dx":10, "dy":300},
  "M73":{
    "colour":"yellow", "contrastColour": "black",
    "name":"M73", "route":"Maryville - Mollinsburn",
    "dx":10, "dy":500},
  "M74":{
    "colour":"blue", "contrastColour": "white",
    "name":"M74", "route":"Tradeston - Gretna",
    "dx":10, "dy":700},
  "M77":{
    "colour":"dark-green", "contrastColour": "white",
    "name":"M77", "route":"Tradeston - Fenwick",
    "dx":10, "dy":900},
  "M80":{
    "colour":"green", "contrastColour": "white",
    "name":"M80", "route":"Provan - Stirling",
    "dx":10, "dy":1100},
  "M90":{
    "colour":"cyan", "contrastColour": "black",
    "name":"M90", "route":"Kirliston - Perth",
    "dx":10, "dy":1300},
  "M876":{
    "colour":"pink", "contrastColour": "black",
    "name":"M876", "route":"Denny - Kincardine",
    "dx":10, "dy":1500},
  "M898":{
    "colour":"silver", "contrastColour": "black",
    "name":"M898", "route":"Erskine - Erskine Bridge",
    "dx":10, "dy":1700}
}
    {{/setData}}

  {{#each routes}}
      <!-- Legend for {{name}} : {{route}} -->
      <rect x="{{offset dx 0}}" y="{{offset dy 0}}" fill="{{colour}}" height="200" width="3500" stroke="white" stroke-width="1"/>
      <g text-anchor="left" font-size="180px" dominant-baseline="middle" fill="{{contrastColour}}" font-family="Fira Sans Condensed">
          <text x="{{offset dx 50}}" y="{{offset dy 100}}" font-weight="bold">{{name}}</text>
          <text x="{{offset dx 600}}" y="{{offset dy 100}}">{{route}}</text>
      </g>

    {{#each junctions}}
      <!-- {{../name}} {{number}} : {{name}} -->
    {{/each}}
  {{/each}}

</svg>